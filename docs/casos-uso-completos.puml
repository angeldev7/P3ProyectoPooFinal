@startuml
' Versión simplificada corregida (sintaxis estándar)
left to right direction
title Casos de Uso (Vista Simplificada)
skinparam actorStyle awesome
skinparam shadowing false
skinparam packageStyle rect
skinparam usecaseBackgroundColor #F8F9FA
skinparam usecaseBorderColor #777777
skinparam ArrowColor #555555

actor Admin as A
actor Recepcionista as R

package "Reservas" #FFF8F0 {
  usecase UC_Plan as "Planificar Reserva"
  usecase UC_Ck as "Check-in Rápido"
  usecase UC_Ajustar as "Ajustar Fechas"
  usecase UC_Fin as "Finalizar / Check-out"
  usecase UC_Anular as "Anular"
}
package "Servicios" #F4F8FF {
  usecase UC_AddSrv as "Agregar Servicio"
}
package "Habitaciones" #F0FFF6 {
  usecase UC_VerHab as "Ver Disponibilidad"
}
package "Reportes" #F2E8FF {
  usecase UC_Dash as "Dashboard"
}
package "Historial" #F9F4FF {
  usecase UC_U as "Undo"
  usecase UC_R as "Redo"
}
package "Mantenimiento" #FFEFD6 {
  usecase UC_Mig as "Migrar IDs"
  usecase UC_Init as "Inicializar Habitaciones"
}

' Relaciones actores
A --> UC_Plan
A --> UC_Ck
A --> UC_Ajustar
A --> UC_Fin
A --> UC_Anular
A --> UC_AddSrv
A --> UC_VerHab
A --> UC_Dash
A --> UC_U
A --> UC_R
A --> UC_Mig
A --> UC_Init

R --> UC_Plan
R --> UC_Ck
R --> UC_Ajustar
R --> UC_Fin
R --> UC_Anular
R --> UC_AddSrv
R --> UC_VerHab
R --> UC_Dash
R --> UC_U
R --> UC_R

' Dependencias clave
UC_Ck --> UC_VerHab : <<consulta>>
UC_Plan --> UC_VerHab : <<consulta>>
UC_AddSrv ..> UC_Ck : <<requiere activa>>
UC_Fin ..> UC_Ck : <<incluye>>
UC_U ..> UC_Plan
UC_U ..> UC_Ck
UC_U ..> UC_Fin
UC_U ..> UC_Anular
UC_U ..> UC_AddSrv
UC_R --> UC_U : <<reaplica>>

note right of UC_Plan
Reserva planificada
no ocupa habitación
end note
note right of UC_Ck
Crea reserva activa
ocupa habitación
end note
note right of UC_AddSrv
Sólo reserva activa
end note

legend left
Reservas|Servicios|Habitaciones|Reportes|Historial|Mantenimiento
endlegend
@enduml
